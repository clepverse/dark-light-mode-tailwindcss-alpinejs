<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/dist/output.css" rel="stylesheet" />
    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <title>Dark Mode toggle</title>
  </head>
  <!-- x-init Armazena dados no localStorage e seta automaticamente a preferência anterior do usuário -->
  <body
    class="antialiased"
    x-data="{'darkMode': false}"
    x-init="darkMode = JSON.parse(localStorage.getItem('darkMode'));
  $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)));"
  >
    <!-- Verifica se a variavel criada no body é verdadeira ou falsa -->
    <div :class="{'dark': darkMode === true}">
      <!-- Background -->
      <div
        class="min-h-screen text-gray-800 bg-white dark:bg-gray-800 dark:tex-gray-100"
      >
        <!-- Início do flex container -->
        <div class="flex flex-col items-center m-auto max-w-5xl pt-20">
          <!-- Início do Toggle container -->
          <div class="flex justify-end item-center space-x-2">
            <span class="text-sm text-gray-800 dark:text-gray-500">Light</span>
            <label
              for="toggle"
              class="w-14 h-7 flex items-center bg-gray-300 rounded-full p-1 cursor-pointer duration-300 ease-in-out dark:bg-gray-600 justify-between"
            >
              <i class="fas fa-sun text-lg text-yellow-400"></i>
              <i class="fas fa-moon text-gray-700"></i>
              <div
                class="toggle-dot bg-white w-5 h-5 rounded-full shadow-md transform duration-300 ease-in-out dark:translate-x-7 absolute"
              ></div>
            </label>
            <span class="text-sm text-gray-400 dark:text-white">Dark</span>
            <!-- Input que verifica a mudança na label -->
            <input
              id="toggle"
              type="checkbox"
              class="hidden"
              :value="darkMode"
              @change="darkMode = !darkMode"
            />
          </div>
          <!-- Teste -->
          <div
            class="flex flex-col w-96 h-96 bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-100 mt-20 rounded-xl pl-2"
          >
            <h1 class="text-lg font-semibold">Dark mode toggle teste</h1>
            <p class="text-md">LIGHT/DARK</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Font Awesome -->
    <script
      src="https://kit.fontawesome.com/6c32633a00.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
